<!DOCTYPE html>
<html lang="kk">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>🎧 Сиқырлы Дыбыстар Әлемі</title>
  <link rel="stylesheet" href="index2.css">
  <link rel="stylesheet" href="alippe.css">
</head>

<body>

  <audio id="clickSound" src="sounds/clap.mp3"></audio>
  <audio id="successSound" src="sounds/clap.mp3"></audio>
  <audio id="errorSound" src="sounds/clap.mp3"></audio>

  <!-- Household sounds -->
  <audio id="phoneSound" src="sounds/Household sounds/phone.mp3"></audio>
  <audio id="clockSound" src="sounds/Household sounds/clock.mp3"></audio>
  <audio id="bikeSound" src="sounds/Household sounds/bike.mp3"></audio>
  <audio id="doorbellAudio" src="sounds/home/doorbell.mp3"></audio>
  <audio id="schoolbellAudio" src="sounds/home/school_bell.mp3"></audio>

  <!-- 2-Сынып -->
  <audio id="carAudio" src="sounds/transport/car.mp3"></audio>
  <audio id="planeAudio" src="sounds/transport/plane.mp3"></audio>
  <audio id="trainAudio" src="sounds/transport/train.mp3"></audio>
  <audio id="motorcycleAudio" src="sounds/transport/motorcycle.mp3"></audio>
  <!-- Математика -->
  <audio id="mathPlusAudio" src="sounds/math/plus.mp3"></audio>
  <audio id="mathMinusAudio" src="sounds/math/minus.mp3"></audio>
  <audio id="mathMoreAudio" src="sounds/math/more.mp3"></audio>
  <audio id="mathLessAudio" src="sounds/math/less.mp3"></audio>

  <!-- 3-Сынып -->
  <audio id="fastRhythm" src="sounds/rhythm/fast.mp3"></audio>
  <audio id="slowRhythm" src="sounds/rhythm/slow.mp3"></audio>

  <!-- 4-Сынып (Техника) -->
  <audio id="techTractorAudio" src="sounds/technical/tractor.mp3"></audio>
  <audio id="techSawAudio" src="sounds/technical/saw.mp3"></audio>
  <audio id="techSewingAudio" src="sounds/technical/sewing_machine.mp3"></audio>

  <!-- Voice frequency -->
  <audio id="lowVoice" src="sounds/voice frequency/woman mid.mp3"></audio>
  <audio id="midVoice" src="sounds/voice frequency/woman mid.mp3"></audio>
  <audio id="highVoice" src="sounds/voice frequency/baby high.mp3"></audio>

  <!-- Household sounds -->
  <audio id="phoneSound" src="sounds/Household sounds/phone.mp3"></audio>
  <audio id="clockSound" src="sounds/Household sounds/clock.mp3"></audio>
  <audio id="bikeSound" src="sounds/Household sounds/bike.mp3"></audio>
  <audio id="doorbellAudio" src="sounds/home/doorbell.mp3"></audio>
  <audio id="schoolbellAudio" src="sounds/home/school_bell.mp3"></audio>

  <!-- 2-Сынып -->
  <audio id="carAudio" src="sounds/transport/car.mp3"></audio>
  <audio id="planeAudio" src="sounds/transport/plane.mp3"></audio>
  <audio id="trainAudio" src="sounds/transport/train.mp3"></audio>
  <audio id="motorcycleAudio" src="sounds/transport/motorcycle.mp3"></audio>
  <!-- Математика -->
  <audio id="mathPlusAudio" src="sounds/math/plus.mp3"></audio>
  <audio id="mathMinusAudio" src="sounds/math/minus.mp3"></audio>
  <audio id="mathMoreAudio" src="sounds/math/more.mp3"></audio>
  <audio id="mathLessAudio" src="sounds/math/less.mp3"></audio>

  <!-- 3-Сынып -->
  <audio id="fastRhythm" src="sounds/rhythm/fast.mp3"></audio>
  <audio id="slowRhythm" src="sounds/rhythm/slow.mp3"></audio>

  <!-- 4-Сынып (Техника) -->
  <audio id="techTractorAudio" src="sounds/technical/tractor.mp3"></audio>
  <audio id="techSawAudio" src="sounds/technical/saw.mp3"></audio>
  <audio id="techSewingAudio" src="sounds/technical/sewing_machine.mp3"></audio>

  <!-- Voice frequency -->
  <audio id="lowVoice" src="sounds/voice frequency/woman mid.mp3"></audio>
  <audio id="midVoice" src="sounds/voice frequency/woman mid.mp3"></audio>
  <audio id="highVoice" src="sounds/voice frequency/baby high.mp3"></audio>


  <div class="header">
    <h1>🎧 Сиқырлы Дыбыстар Әлемі</h1>
    <p>Есту қабілеті нашар балаларға арналған интерактивті платформа</p>
  </div>

  <div class="coins-display">
    🪙 <span id="coinCount">0</span>
  </div>

  <div class="container">

    <div id="homeScreen" class="screen">
      <div class="task-box">
        <h2>Қош келдіңіз! 👋</h2>
        <p class="instruction">
          Бұл платформада сіз дыбыстарды естіп, айтуды үйренесіз.<br>
          Ойындар мен тапсырмалар арқылы есту қабілетіңізді дамытасыз!
        </p>

        <div style="margin: 40px 0;">
          <h3 style="color: #667eea; margin-bottom: 20px;">Көмекшіңізді таңдаңыз:</h3>
          <div class="character-selection">
            <div class="character" onclick="selectCharacter('fox')">
              <div class="emoji">🦊</div>
              <h4>Түлкі</h4>
            </div>
            <div class="character" onclick="selectCharacter('rabbit')">
              <div class="emoji">🐰</div>
              <h4>Қоян</h4>
            </div>
            <div class="character" onclick="selectCharacter('robot')">
              <div class="emoji">🤖</div>
              <h4>Робот</h4>
            </div>
          </div>
        </div>

        <button class="btn btn-success" onclick="playClick(); showScreen('levelsScreen')">
          ▶️ Оқуды бастау
        </button>
      </div>
    </div>

    <div id="levelsScreen" class="screen active">
      <div class="radial-menu-container" id="mainRadialMenu">
        <div class="radial-center-btn" onclick="toggleMainMenu()">
          Сыныпты<br>таңдаңыз
        </div>
        <!-- Items (0-4) -->
        <div class="radial-item" style="--angle: 270deg; --dist: 220px;" onclick="showScreen('grade0Menu')">
          <div style="font-size: 40px;">🐣</div>
          <h3>0</h3>
          <p>Дайындық</p>
        </div>
        <div class="radial-item" style="--angle: 342deg; --dist: 220px;" onclick="showScreen('grade1Menu')">
          <div style="font-size: 40px;">🐶</div>
          <h3>1</h3>
          <p>1-сынып</p>
        </div>
        <div class="radial-item" style="--angle: 54deg; --dist: 220px;" onclick="showScreen('grade2Menu')">
          <div style="font-size: 40px;">🚗</div>
          <h3>2</h3>
          <p>2-сынып</p>
        </div>
        <div class="radial-item" style="--angle: 126deg; --dist: 220px;" onclick="showScreen('grade3Menu')">
          <div style="font-size: 40px;">🎵</div>
          <h3>3</h3>
          <p>3-сынып</p>
        </div>
        <div class="radial-item" style="--angle: 198deg; --dist: 220px;" onclick="showScreen('grade4Menu')">
          <div style="font-size: 40px;">🎤</div>
          <h3>4</h3>
          <p>4-сынып</p>
        </div>
      </div>
    </div>

    <div id="grade0Menu" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <!-- Left: Alippe -->
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <!-- Right: Radial Menu -->
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center;">
          <div class="radial-menu-container active" style="width: 700px; height: 700px;">
            <div class="radial-center-btn" onclick="toggleRadialGradeMenu(this)"
              style="cursor: pointer; width:160px; height:160px; font-size:28px; background: linear-gradient(135deg, #FDB813 0%, #F5A623 100%);">
              0-сынып</div>
            <!-- Inner Ring (r=180px) -->
            <div class="radial-item" style="--angle: 0deg; --dist: 180px;" onclick="showScreen('g0Task1')">
              <div>🔊</div>
              <p>Тану</p>
            </div>
            <div class="radial-item" style="--angle: 72deg; --dist: 180px;" onclick="showScreen('g0Task2')">
              <div>🎤</div>
              <p>Дауыс</p>
            </div>
            <div class="radial-item" style="--angle: 144deg; --dist: 180px;" onclick="showScreen('g0Task3')">
              <div>🎺</div>
              <p>Аспап</p>
            </div>
            <div class="radial-item" style="--angle: 216deg; --dist: 180px;" onclick="showScreen('g0Task4')">
              <div>🐴</div>
              <p>Жануар</p>
            </div>
            <div class="radial-item" style="--angle: 288deg; --dist: 180px;" onclick="showScreen('g0Task5')">
              <div>🎵</div>
              <p>Ырғақ</p>
            </div>

            <!-- Outer Ring (r=310px) -->
            <div class="radial-item" style="--angle: 20deg; --dist: 310px;" onclick="showScreen('g0Task6')">
              <div>🌳</div>
              <p>Табиғат</p>
            </div>
            <div class="radial-item" style="--angle: 60deg; --dist: 310px;" onclick="showScreen('g0Task7')">
              <div>🗣️</div>
              <p>Адам</p>
            </div>
            <div class="radial-item" style="--angle: 100deg; --dist: 310px;" onclick="showScreen('g0Task8')">
              <div>🚗</div>
              <p>Көлік</p>
            </div>
            <div class="radial-item" style="--angle: 140deg; --dist: 310px;" onclick="showScreen('g0Task9')">
              <div>📱</div>
              <p>Үй</p>
            </div>
            <div class="radial-item" style="--angle: 180deg; --dist: 310px;" onclick="showScreen('g0TaskWild')">
              <div>🦁</div>
              <p>Жабайы</p>
            </div>
            <div class="radial-item" style="--angle: 220deg; --dist: 310px;" onclick="showScreen('g0TaskTech2')">
              <div>🔫</div>
              <p>Тех-2</p>
            </div>
            <div class="radial-item" style="--angle: 260deg; --dist: 310px;" onclick="showScreen('g0TaskAppliance')">
              <div>🔌</div>
              <p>Тұрмыс</p>
            </div>
            <div class="radial-item" style="--angle: 300deg; --dist: 310px;" onclick="showScreen('g0TaskTech4')">
              <div>🚜</div>
              <p>Тех-4</p>
            </div>
            <div class="radial-item" style="--angle: 340deg; --dist: 310px;" onclick="showScreen('g0TaskEmotion')">
              <div>😂</div>
              <p>Эмоция</p>
            </div>
          </div>
          <!-- Back Button -->
          <button class="btn btn-secondary" onclick="playClick(); showScreen('levelsScreen')"
            style="position: absolute; bottom: 20px; left: 20px; z-index: 100;">⬅️ Артқа</button>
        </div>
      </div>
    </div>

    <div id="g0Task1" class="screen">
      <div class="task-box">
        <h2>🔊 Дыбысты тану</h2>
        <p class="instruction">
          Дыбыс шыққанда "ИӘ" батырмасын басыңыз!<br>
          Дыбыс шықпаса "ЖОҚ" батырмасын басыңыз!
        </p>

        <div style="margin: 40px 0;">
          <div style="font-size: 120px;" id="soundIndicator">🔇</div>
        </div>

        <button class="btn btn-success" onclick="startSoundDetection()" id="startSoundBtn">
          🎮 Ойынды бастау
        </button>

        <div id="soundButtons" style="display: none; margin-top: 30px;">
          <button class="btn btn-success" onclick="checkSound(true)" style="margin: 10px;">
            ✅ ИӘ - Дыбыс бар
          </button>
          <button class="btn btn-secondary" onclick="checkSound(false)" style="margin: 10px;">
            ❌ ЖОҚ - Дыбыс жоқ
          </button>
        </div>

        <div id="g0t1Feedback" class="feedback"></div>

        <button class="btn btn-secondary" onclick="playClick(); showScreen('grade0Menu')">
          ⬅️ Артқа
        </button>
      </div>
    </div>

    <div id="g0Task2" class="screen">
      <!-- Flex container for Alippe and Voice Task -->
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">

        <!-- Left Panel: Әліппе -->
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid" id="alippeGrid">
            <!-- Letters generated by JS -->
          </div>
        </div>

        <!-- Right Panel: Voice Game (Existing Content wrapped) -->
        <div class="voice-game-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">

          <div class="voice-bubble-container" id="voiceGameContainer">
            <!-- Center Button -->
            <div class="voice-center-bubble" id="voiceCenterBtn" onclick="handleVoiceCenterClick()">
              Дауыс созу
            </div>
            <!-- Bubbles will be generated by JS -->
          </div>

          <div id="voiceFeedback" class="feedback"></div>

          <!-- VAD Libraries -->
          <script src="https://cdn.jsdelivr.net/npm/onnxruntime-web/dist/ort.js"></script>
          <script src="https://cdn.jsdelivr.net/npm/@ricky0123/vad-web@0.0.7/dist/bundle.min.js"></script>

          <!-- Train Animation -->
          <div id="voiceTrainContainer"
            style="display:none; text-align:center; padding: 20px; position: relative; height: 150px; margin-top: 50px;">
            <div style="width: 90%; max-width: 600px; margin: 0 auto; position: relative;">
              <!-- Train Icon: Absolute positioned on top of the bar track -->
              <!-- Initial left: 0%. Will update via JS to match progress -->
              <div id="trainIcon"
                style="font-size: 60px; position: absolute; bottom: 55px; left: 0%; transition: left 0.3s linear, transform 0.5s; transform: scaleX(-1); white-space: nowrap; z-index: 10;">
                🚂</div>

              <!-- Progress Bar Container -->
              <div
                style="width: 100%; height: 50px; background: rgba(255,255,255,0.2); border: 2px solid rgba(255,255,255,0.5); border-radius: 25px; overflow: hidden; position: relative;">
                <div id="voiceProgressBar"
                  style="width: 0%; height: 100%; background: linear-gradient(90deg, #667eea 0%, #764ba2 100%); border-radius: 25px; transition: width 0.3s linear; display: flex; align-items: center; justify-content: center; color: white; font-weight: bold; font-size: 20px;">
                  0%
                </div>
              </div>
            </div>

            <p style="font-size: 24px; color: white; margin-top: 20px; text-shadow: 0 2px 4px rgba(0,0,0,0.5);"><span
                id="trainTimer"></span></p>
          </div>

          <button class="btn btn-secondary" style="position:absolute; bottom:20px; left:20px;"
            onclick="playClick(); if(typeof stopVoiceGame === 'function') stopVoiceGame(); showScreen('grade0Menu')">
            ⬅️ Артқа
          </button>
        </div>

      </div>
    </div>

    <div id="g0Task3" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>🎺 Музыкалық аспаптар</h2>
            <p class="instruction">Дыбысты тыңдап, қай аспап ойнап тұрғанын табыңыз!</p>

            <audio id="pianoAudio" src="sounds/musical/piano.mp3"></audio>
            <audio id="drumAudio" src="sounds/musical/drum.mp3"></audio>
            <audio id="guitarAudio" src="sounds/musical/guitar.mp3"></audio>
            <audio id="violinAudio" src="sounds/musical/violin.mp3"></audio>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playInstrumentSound()">🔊</div>

              <div class="option-circle" style="--angle: 45deg; --dist: 220px;" onclick="checkInstrument('piano')">
                <div style="font-size: 50px;">🎹</div>
                <p style="margin:0; font-size:16px;">Пианино</p>
              </div>
              <div class="option-circle" style="--angle: 135deg; --dist: 220px;" onclick="checkInstrument('drum')">
                <div style="font-size: 50px;">🥁</div>
                <p style="margin:0; font-size:16px;">Барабан</p>
              </div>
              <div class="option-circle" style="--angle: 225deg; --dist: 220px;" onclick="checkInstrument('guitar')">
                <div style="font-size: 50px;">🎸</div>
                <p style="margin:0; font-size:16px;">Гитара</p>
              </div>
              <div class="option-circle" style="--angle: 315deg; --dist: 220px;" onclick="checkInstrument('violin')">
                <div style="font-size: 50px;">🎻</div>
                <p style="margin:0; font-size:16px;">Скрипка</p>
              </div>
            </div>

            <div id="g0t3Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade0Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <div id="g0Task4" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>🐴 Жануарлар дауысы</h2>
            <p class="instruction">Қай жануардың дауысы естіліп тұр?</p>

            <audio id="horseAudio" src="sounds/animals/horse.mp3"></audio>
            <audio id="cowAudio" src="sounds/animals/cow.mp3"></audio>
            <audio id="sheepAudio" src="sounds/animals/sheep.mp3"></audio>
            <audio id="catAudio" src="sounds/animals/cat.mp3"></audio>
            <audio id="dogAudio" src="sounds/animals/dog.mp3"></audio>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playRandomAnimal()">🔊</div>

              <div class="option-circle" style="--angle: 270deg; --dist: 220px;" onclick="checkAnimal('horse')">
                <div style="font-size: 50px;">🐴</div>
                <p style="margin:0; font-size:16px;">Ат</p>
              </div>
              <div class="option-circle" style="--angle: 342deg; --dist: 220px;" onclick="checkAnimal('cow')">
                <div style="font-size: 50px;">🐮</div>
                <p style="margin:0; font-size:16px;">Сиыр</p>
              </div>
              <div class="option-circle" style="--angle: 54deg; --dist: 220px;" onclick="checkAnimal('sheep')">
                <div style="font-size: 50px;">🐑</div>
                <p style="margin:0; font-size:16px;">Қой</p>
              </div>
              <div class="option-circle" style="--angle: 126deg; --dist: 220px;" onclick="checkAnimal('cat')">
                <div style="font-size: 50px;">🐱</div>
                <p style="margin:0; font-size:16px;">Мысық</p>
              </div>
              <div class="option-circle" style="--angle: 198deg; --dist: 220px;" onclick="checkAnimal('dog')">
                <div style="font-size: 50px;">🐶</div>
                <p style="margin:0; font-size:16px;">Ит</p>
              </div>
            </div>

            <div id="g0t4Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade0Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <div id="g0Task5" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>🎵 Музыка ырғағы</h2>
            <p class="instruction">Ырғақты тыңдап, қайталаңыз немесе түрін ажыратыңыз!</p>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="hitDrum()">🥁</div>

              <div class="option-circle" style="--angle: 180deg; --dist: 220px;" onclick="playRhythm('march')">
                <div style="font-size: 30px;">💂</div>
                <p style="margin:0; font-size:16px;">Марш</p>
              </div>
              <div class="option-circle" style="--angle: 0deg; --dist: 220px;" onclick="playRhythm('waltz')">
                <div style="font-size: 30px;">💃</div>
                <p style="margin:0; font-size:16px;">Вальс</p>
              </div>
            </div>

            <p style="text-align: center; color: white;">Барабанды бас!</p>

            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade0Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <div id="g0Task6" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>🌳 Табиғат дыбыстары</h2>
            <p class="instruction">Дыбысты тыңдап, табиғат құбылысын табыңыз.</p>

            <audio id="birdAudio" src="sounds/nature/bird.mp3"></audio>
            <audio id="waterAudio" src="sounds/nature/water.mp3"></audio>
            <audio id="windAudio" src="sounds/nature/wind.mp3"></audio>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playRandomNature()">🔊</div>

              <div class="option-circle" style="--angle: 270deg; --dist: 220px;" onclick="checkNature('bird')">
                <div style="font-size: 50px;">🦜</div>
                <p style="margin:0; font-size:16px;">Құстар</p>
              </div>
              <div class="option-circle" style="--angle: 30deg; --dist: 220px;" onclick="checkNature('water')">
                <div style="font-size: 50px;">🌊</div>
                <p style="margin:0; font-size:16px;">Су</p>
              </div>
              <div class="option-circle" style="--angle: 150deg; --dist: 220px;" onclick="checkNature('wind')">
                <div style="font-size: 50px;">💨</div>
                <p style="margin:0; font-size:16px;">Жел</p>
              </div>
            </div>

            <div id="g0t6Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade0Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <div id="g0Task7" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>🗣️ Адам дыбыстары</h2>
            <p class="instruction">Дыбысты тыңдап, адамның көңіл-күйін немесе әрекетін табыңыз!</p>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playRandomHumanSound()">🔊</div>

              <div class="option-circle" style="--angle: 45deg; --dist: 220px;" onclick="checkHumanSound('laugh')">
                <div style="font-size: 50px;">😂</div>
                <p style="margin:0; font-size:16px;">Күлу</p>
              </div>
              <div class="option-circle" style="--angle: 135deg; --dist: 220px;" onclick="checkHumanSound('cry')">
                <div style="font-size: 50px;">😢</div>
                <p style="margin:0; font-size:16px;">Жылау</p>
              </div>
              <div class="option-circle" style="--angle: 225deg; --dist: 220px;" onclick="checkHumanSound('sneeze')">
                <div style="font-size: 50px;">🤧</div>
                <p style="margin:0; font-size:16px;">Түшкіру</p>
              </div>
              <div class="option-circle" style="--angle: 315deg; --dist: 220px;" onclick="checkHumanSound('cough')">
                <div style="font-size: 50px;">😷</div>
                <p style="margin:0; font-size:16px;">Жөтелу</p>
              </div>
            </div>

            <div id="g0t7Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade0Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <div id="g0Task8" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>🚗 Көліктер дыбысы</h2>
            <p class="instruction">Дыбысты тыңдап, қандай көлік екенін анықтаңыз!</p>

            <audio id="carAudio" src="sounds/transport/car.mp3"></audio>
            <audio id="motorcycleAudio" src="sounds/transport/motorcycle.mp3"></audio>
            <audio id="planeAudio" src="sounds/transport/plane.mp3"></audio>
            <audio id="trainAudio" src="sounds/transport/train.mp3"></audio>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="startVehicleGame()">🔊</div>

              <div class="option-circle" style="--angle: 45deg; --dist: 220px;" onclick="verifyVehicleChoice('car')">
                <div style="font-size: 50px;">🚗</div>
                <p style="margin:0; font-size:16px;">Машина</p>
              </div>
              <div class="option-circle" style="--angle: 135deg; --dist: 220px;" onclick="verifyVehicleChoice('plane')">
                <div style="font-size: 50px;">✈️</div>
                <p style="margin:0; font-size:16px;">Ұшақ</p>
              </div>
              <div class="option-circle" style="--angle: 225deg; --dist: 220px;" onclick="verifyVehicleChoice('train')">
                <div style="font-size: 50px;">🚂</div>
                <p style="margin:0; font-size:16px;">Пойыз</p>
              </div>
              <div class="option-circle" style="--angle: 315deg; --dist: 220px;"
                onclick="verifyVehicleChoice('motorcycle')">
                <div style="font-size: 50px;">🏍️</div>
                <p style="margin:0; font-size:16px;">Мотоцикл</p>
              </div>
            </div>

            <div id="g0t8Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade0Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <div id="g0Task9" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>📱 Үй дыбыстары</h2>
            <p class="instruction">Үй ішіндегі дыбысты тыңдап, оны табыңыз!</p>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playRandomHomeSound()">🔊</div>

              <div class="option-circle" style="--angle: 270deg; --dist: 220px;" onclick="checkHomeSound0('phone')">
                <div style="font-size: 50px;">📱</div>
                <p style="margin:0; font-size:16px;">Телефон</p>
              </div>
              <div class="option-circle" style="--angle: 342deg; --dist: 220px;" onclick="checkHomeSound0('clock')">
                <div style="font-size: 50px;">⏰</div>
                <p style="margin:0; font-size:16px;">Сағат</p>
              </div>
              <div class="option-circle" style="--angle: 54deg; --dist: 220px;" onclick="checkHomeSound0('bike')">
                <div style="font-size: 50px;">🚲</div>
                <p style="margin:0; font-size:16px;">Велосипед</p>
              </div>
              <div class="option-circle" style="--angle: 126deg; --dist: 220px;" onclick="checkHomeSound0('doorbell')">
                <div style="font-size: 50px;">🔔</div>
                <p style="margin:0; font-size:16px;">Есік қоңырауы</p>
              </div>
              <div class="option-circle" style="--angle: 198deg; --dist: 220px;"
                onclick="checkHomeSound0('schoolbell')">
                <div style="font-size: 50px;">🏫</div>
                <p style="margin:0; font-size:16px;">Мектеп қоңырауы</p>
              </div>
            </div>

            <div id="g0t9Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade0Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <div id="grade1Menu" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <!-- Left: Alippe -->
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <!-- Right: Radial Menu -->
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center;">
          <div class="radial-menu-container active" style="width: 600px; height: 600px;">
            <div class="radial-center-btn" onclick="toggleRadialGradeMenu(this)"
              style="cursor: pointer; width:160px; height:160px; font-size:28px; background: linear-gradient(135deg, #FDB813 0%, #F5A623 100%);">
              1-сынып</div>

            <div class="radial-item" style="--angle: 0deg; --dist: 220px;" onclick="startTask('claps')">
              <div>🔢</div>
              <p>Саны</p>
            </div>
            <div class="radial-item" style="--angle: 60deg; --dist: 220px;" onclick="startTask('pitch')">
              <div>👥</div>
              <p>Жиілігі</p>
            </div>
            <div class="radial-item" style="--angle: 120deg; --dist: 220px;"
              onclick="initializeLetterGame(); showScreen('g1TaskLetters')">
              <div>🅰️</div>
              <p>Әріптер</p>
            </div>
            <div class="radial-item" style="--angle: 180deg; --dist: 220px;" onclick="startTask('tempo')">
              <div>💃</div>
              <p>Би</p>
            </div>
            <div class="radial-item" style="--angle: 240deg; --dist: 220px;"
              onclick="playClick(); showScreen('g1Task1')">
              <div>🎵</div>
              <p>Дыбыс</p>
            </div>
            <div class="radial-item" style="--angle: 300deg; --dist: 220px;"
              onclick="playClick(); showScreen('g1Task3')">
              <div>💬</div>
              <p>Сөздер</p>
            </div>

          </div>
          <!-- Back Button -->
          <button class="btn btn-secondary" onclick="playClick(); showScreen('levelsScreen')"
            style="position: absolute; bottom: 20px; left: 20px; z-index: 100;">⬅️ Артқа</button>
        </div>
      </div>
    </div>

    <!-- 1-СЫНЫП ОЙЫН ЭКРАНЫ -->
    <div id="gamePlay" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2 id="taskTitle">Тапсырма</h2>
            <p id="taskDesc" class="instruction">Дыбысты тыңдап, жауабын тап.</p>

            <div class="letter-circle-container active" id="optionsContainer"
              style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" id="actionElement" onclick="playCurrentAudio()">🔊</div>
            </div>

            <div id="gameFeedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="showScreen('grade1Menu')">Мәзірге қайту</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 1-СЫНЫП: ӘРІПТЕР (CIRCULAR INTERFACE) -->
    <!-- 1-СЫНЫП: ӘРІПТЕР (CIRCULAR INTERFACE) -->
    <div id="g1TaskLetters" class="screen">
      <!-- Flex container -->
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">

        <!-- Left Panel: Әліппе -->
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid">
            <!-- Letters generated by JS -->
          </div>
        </div>

        <!-- Right Panel: Main Task Content -->
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>🅰️ Әріптерді үйренеміз</h2>
            <p class="instruction" style="margin-bottom: 20px;">
              Орталық шеңберді басып дыбысты тыңдаңыз, содан кейін дұрыс әріпті таңдаңыз!
            </p>

            <div class="letter-circle-container" id="letterCircleContainer">
              <!-- Center circle -->
              <div class="center-circle" id="centerCircle" onclick="handleCenterClick()">
                <span id="centerContent">🔊</span>
              </div>

              <!-- Option circles (6 letters) - positioned radially -->
              <div class="option-circle" style="--angle: 270deg; --dist: 220px;" onclick="selectLetterOption(this, 0)">
                <span class="letter-option"></span>
              </div>
              <div class="option-circle" style="--angle: 330deg; --dist: 220px;" onclick="selectLetterOption(this, 1)">
                <span class="letter-option"></span>
              </div>
              <div class="option-circle" style="--angle: 30deg; --dist: 220px;" onclick="selectLetterOption(this, 2)">
                <span class="letter-option"></span>
              </div>
              <div class="option-circle" style="--angle: 90deg; --dist: 220px;" onclick="selectLetterOption(this, 3)">
                <span class="letter-option"></span>
              </div>
              <div class="option-circle" style="--angle: 150deg; --dist: 220px;" onclick="selectLetterOption(this, 4)">
                <span class="letter-option"></span>
              </div>
              <div class="option-circle" style="--angle: 210deg; --dist: 220px;" onclick="selectLetterOption(this, 5)">
                <span class="letter-option"></span>
              </div>
            </div>

            <div id="g1t1Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade1Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 1-СЫНЫП: ТАПСЫРМА 1 - ДЫБЫС ЖИІЛІГІ -->
    <div id="g1Task1" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <!-- Left: Alippe -->
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <!-- Right: Task -->
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>🎵 Дыбыс жиілігі</h2>
            <p class="instruction">Дыбысты тыңдап, жиілігін анықтаңыз: жоғары, төмен немесе орташа?</p>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playSound('soundFrequency')">🔊</div>

              <div class="option-circle" style="--angle: 270deg; --dist: 220px;" onclick="checkFrequency('high')">
                <div style="font-size: 50px;">⬆️</div>
                <p style="margin:0; font-size:16px;">Жоғары</p>
              </div>
              <div class="option-circle" style="--angle: 30deg; --dist: 220px;" onclick="checkFrequency('mid')">
                <div style="font-size: 50px;">➡️</div>
                <p style="margin:0; font-size:16px;">Орташа</p>
              </div>
              <div class="option-circle" style="--angle: 150deg; --dist: 220px;" onclick="checkFrequency('low')">
                <div style="font-size: 50px;">⬇️</div>
                <p style="margin:0; font-size:16px;">Төмен</p>
              </div>
            </div>

            <div id="g1t1Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade1Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 1-СЫНЫП: ТАПСЫРМА 2 - ЖАБАЙЫ ЖАНУАРЛАР -->
    <div id="g1Task2" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <!-- Left: Alippe -->
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <!-- Right: Task -->
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>🦁 Жабайы жануарлар дауысы</h2>
            <p class="instruction">Қай жабайы жануардың дауысы естіліп тұр?</p>

            <audio id="lionAudio" src="sounds/wild_animals/lion.mp3"></audio>
            <audio id="wolfAudio" src="sounds/wild_animals/wolf.mp3"></audio>
            <audio id="bearAudio" src="sounds/wild_animals/bear.mp3"></audio>
            <audio id="elephantAudio" src="sounds/wild_animals/elephant.mp3"></audio>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playRandomWildAnimal()">🔊</div>

              <div class="option-circle" style="--angle: 45deg; --dist: 220px;" onclick="checkWildAnimal('lion')">
                <div style="font-size: 50px;">🦁</div>
                <p style="margin:0; font-size:16px;">Арыстан</p>
              </div>
              <div class="option-circle" style="--angle: 135deg; --dist: 220px;" onclick="checkWildAnimal('wolf')">
                <div style="font-size: 50px;">🐺</div>
                <p style="margin:0; font-size:16px;">Қасқыр</p>
              </div>
              <div class="option-circle" style="--angle: 225deg; --dist: 220px;" onclick="checkWildAnimal('bear')">
                <div style="font-size: 50px;">🐻</div>
                <p style="margin:0; font-size:16px;">Аю</p>
              </div>
              <div class="option-circle" style="--angle: 315deg; --dist: 220px;" onclick="checkWildAnimal('elephant')">
                <div style="font-size: 50px;">🐘</div>
                <p style="margin:0; font-size:16px;">Піл</p>
              </div>
            </div>

            <div id="g1t2Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade1Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 1-СЫНЫП: ТАПСЫРМА 3 - ТАНЫС СӨЗДЕР МЕН МӘТІНДЕР -->
    <div id="g1Task3" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>💬 Таныс сөздер мен сөз тіркестері</h2>
            <p class="instruction">Дыбысты тыңдап, не естілетінін табыңыз!</p>

            <audio id="word1Audio" src="sounds/familiar_words/hello.mp3"></audio>
            <audio id="word2Audio" src="sounds/familiar_words/goodbye.mp3"></audio>
            <audio id="word3Audio" src="sounds/familiar_words/thankyou.mp3"></audio>
            <audio id="phrase1Audio" src="sounds/familiar_words/good_morning.mp3"></audio>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playRandomFamiliarWord()">🔊</div>

              <div class="option-circle" style="--angle: 45deg; --dist: 220px;" onclick="checkFamiliarWord('hello')">
                <div style="font-size: 40px;">🤝</div>
                <p style="margin:0; font-size:16px;">Сәлеметсіз бе</p>
              </div>
              <div class="option-circle" style="--angle: 135deg; --dist: 220px;" onclick="checkFamiliarWord('goodbye')">
                <div style="font-size: 40px;">👋</div>
                <p style="margin:0; font-size:16px;">Сау болыңыз</p>
              </div>
              <div class="option-circle" style="--angle: 225deg; --dist: 220px;"
                onclick="checkFamiliarWord('thankyou')">
                <div style="font-size: 40px;">🙏</div>
                <p style="margin:0; font-size:16px;">Рахмет</p>
              </div>
              <div class="option-circle" style="--angle: 315deg; --dist: 220px;"
                onclick="checkFamiliarWord('goodmorning')">
                <div style="font-size: 40px;">🌅</div>
                <p style="margin:0; font-size:16px;">Қайырлы таң</p>
              </div>
            </div>

            <div id="g1t3Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade1Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 1-СЫНЫП: ТАПСЫРМА 1 - ӘРІПТЕР (RESTORED) -->


    <div id="grade2Menu" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <!-- Left: Alippe -->
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <!-- Right: Radial Menu -->
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center;">
          <div class="radial-menu-container active" style="width: 600px; height: 600px;">
            <div class="radial-center-btn" onclick="toggleRadialGradeMenu(this)"
              style="cursor: pointer; width:160px; height:160px; font-size:28px; background: linear-gradient(135deg, #FDB813 0%, #F5A623 100%);">
              2-сынып</div>

            <div class="radial-item" style="--angle: 0deg; --dist: 220px;" onclick="showScreen('g2Task2')">
              <div>👏</div>
              <p>Буындар</p>
            </div>
            <div class="radial-item" style="--angle: 72deg; --dist: 220px;" onclick="showScreen('g2Task3')">
              <div>🔤</div>
              <p>С-Ш</p>
            </div>
            <div class="radial-item" style="--angle: 144deg; --dist: 220px;" onclick="showScreen('g2Task4')">
              <div>📐</div>
              <p>Математика</p>
            </div>
            <div class="radial-item" style="--angle: 216deg; --dist: 220px;" onclick="showScreen('g2Task5')">
              <div>⏱️</div>
              <p>Сипаты</p>
            </div>
            <div class="radial-item" style="--angle: 288deg; --dist: 220px;" onclick="showScreen('g2Task6')">
              <div>🎭</div>
              <p>Ертегілер</p>
            </div>
          </div>
          <!-- Back Button -->
          <button class="btn btn-secondary" onclick="playClick(); showScreen('levelsScreen')"
            style="position: absolute; bottom: 20px; left: 20px; z-index: 100;">⬅️ Артқа</button>
        </div>
      </div>
    </div>

    <!-- 2-СЫНЫП: ТАПСЫРМА 1 - КӨЛІКТЕР -->
    <div id="g2Task1" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>🚗 Көліктер дыбысы</h2>
            <p class="instruction">Қай көліктің дыбысы естіліп тұр?</p>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playSound('vehicle')">🔊</div>

              <div class="option-circle" style="--angle: 45deg; --dist: 220px;" onclick="checkVehicle('car')">
                <div style="font-size: 50px;">🚗</div>
                <p style="margin:0; font-size:16px;">Машина</p>
              </div>
              <div class="option-circle" style="--angle: 135deg; --dist: 220px;" onclick="checkVehicle('plane')">
                <div style="font-size: 50px;">✈️</div>
                <p style="margin:0; font-size:16px;">Ұшақ</p>
              </div>
              <div class="option-circle" style="--angle: 225deg; --dist: 220px;" onclick="checkVehicle('train')">
                <div style="font-size: 50px;">🚂</div>
                <p style="margin:0; font-size:16px;">Пойыз</p>
              </div>
              <div class="option-circle" style="--angle: 315deg; --dist: 220px;" onclick="checkVehicle('moto')">
                <div style="font-size: 50px;">🏍️</div>
                <p style="margin:0; font-size:16px;">Мотоцикл</p>
              </div>
            </div>

            <div id="g2t1Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade2Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>


    <!-- 2-СЫНЫП: ТАПСЫРМА 2 - БУЫНДАР -->
    <div id="g2Task2" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>👏 Буындар</h2>
            <p class="instruction">Сөзді тыңдап, неше буыннан тұратынын табыңыз!</p>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playSound('syllable')">🔊</div>

              <div class="option-circle" style="--angle: 45deg; --dist: 220px;" onclick="checkSyllables(1)">
                <div style="font-size: 40px;">1</div>
                <p style="margin:0; font-size:16px;">буын</p>
              </div>
              <div class="option-circle" style="--angle: 135deg; --dist: 220px;" onclick="checkSyllables(2)">
                <div style="font-size: 40px;">2</div>
                <p style="margin:0; font-size:16px;">буын</p>
              </div>
              <div class="option-circle" style="--angle: 225deg; --dist: 220px;" onclick="checkSyllables(3)">
                <div style="font-size: 40px;">3</div>
                <p style="margin:0; font-size:16px;">буын</p>
              </div>
              <div class="option-circle" style="--angle: 315deg; --dist: 220px;" onclick="checkSyllables(4)">
                <div style="font-size: 40px;">4</div>
                <p style="margin:0; font-size:16px;">буын</p>
              </div>
            </div>

            <div id="g2t2Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade2Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 2-СЫНЫП: ТАПСЫРМА 3 - С-Ш, З-Ж АЙЫРУ -->
    <div id="g2Task3" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>🔤 С-Ш, З-Ж айыру</h2>
            <p class="instruction">Сөзді тыңдап, қандай дыбыс естілетінін табыңыз!</p>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playSound('letter')">🔊</div>

              <div class="option-circle" style="--angle: 45deg; --dist: 220px;" onclick="checkLetter('С')">
                <div style="font-size: 40px;">С</div>
              </div>
              <div class="option-circle" style="--angle: 135deg; --dist: 220px;" onclick="checkLetter('Ш')">
                <div style="font-size: 40px;">Ш</div>
              </div>
              <div class="option-circle" style="--angle: 225deg; --dist: 220px;" onclick="checkLetter('З')">
                <div style="font-size: 40px;">З</div>
              </div>
              <div class="option-circle" style="--angle: 315deg; --dist: 220px;" onclick="checkLetter('Ж')">
                <div style="font-size: 40px;">Ж</div>
              </div>
            </div>

            <div id="g2t3Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade2Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>
    <!-- 2-СЫНЫП: ТАПСЫРМА 4 - МАТЕМАТИКА ТІЛІ -->
    <div id="g2Task4" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>📐 Математика тілі</h2>
            <p class="instruction">Математикалық терминді тыңдап, дұрыс таңбаны табыңыз!</p>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playSound('math')">🔊</div>

              <div class="option-circle" style="--angle: 45deg; --dist: 220px;" onclick="checkMath('plus')">
                <div style="font-size: 50px;">➕</div>
                <p style="margin:0; font-size:16px;">Қосу</p>
              </div>
              <div class="option-circle" style="--angle: 135deg; --dist: 220px;" onclick="checkMath('minus')">
                <div style="font-size: 50px;">➖</div>
                <p style="margin:0; font-size:16px;">Азайту</p>
              </div>
              <div class="option-circle" style="--angle: 225deg; --dist: 220px;" onclick="checkMath('more')">
                <div style="font-size: 50px;">ᐳ</div>
                <p style="margin:0; font-size:16px;">Артық</p>
              </div>
              <div class="option-circle" style="--angle: 315deg; --dist: 220px;" onclick="checkMath('less')">
                <div style="font-size: 50px;">ᐸ</div>
                <p style="margin:0; font-size:16px;">Кем</p>
              </div>
            </div>

            <div id="g2t4Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade2Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 2-СЫНЫП: ТАПСЫРМА 5 - ДЫБЫС СИПАТЫ -->
    <div id="g2Task5" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>⏱️ Дыбыс сипаты</h2>
            <p class="instruction">Дыбысты тыңдап, оның ұзақтығын немесе қаттылығын анықтаңыз!</p>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playSound('soundProperty')">🔊</div>

              <div class="option-circle" style="--angle: 270deg; --dist: 220px;"
                onclick="checkSoundProperty('long', 'duration')">
                <div style="font-size: 40px;">⏳</div>
                <p style="margin:0; font-size:16px;">Ұзақ</p>
              </div>
              <div class="option-circle" style="--angle: 342deg; --dist: 220px;"
                onclick="checkSoundProperty('short', 'duration')">
                <div style="font-size: 40px;">⏱️</div>
                <p style="margin:0; font-size:16px;">Қысқа</p>
              </div>
              <div class="option-circle" style="--angle: 54deg; --dist: 220px;"
                onclick="checkSoundProperty('loud', 'intensity')">
                <div style="font-size: 40px;">🔊</div>
                <p style="margin:0; font-size:16px;">Қатты</p>
              </div>
              <div class="option-circle" style="--angle: 126deg; --dist: 220px;"
                onclick="checkSoundProperty('quiet', 'intensity')">
                <div style="font-size: 40px;">🔉</div>
                <p style="margin:0; font-size:16px;">Ақырын</p>
              </div>
              <div class="option-circle" style="--angle: 198deg; --dist: 220px;"
                onclick="checkSoundProperty('calm', 'intensity')">
                <div style="font-size: 40px;">🔈</div>
                <p style="margin:0; font-size:16px;">Тыныш</p>
              </div>
            </div>

            <div id="g2t5Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade2Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 2-СЫНЫП: ТАПСЫРМА 6 - МУЗЫКАЛЫҚ ЕРТЕГІЛЕР -->
    <div id="g2Task6" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>🎭 Музыкалық ертегілер</h2>
            <p class="instruction">Музыкалық ертегіді тыңдап, қайсысы екенін табыңыз!</p>

            <audio id="redRidingHoodAudio" src="sounds/musical_tales/red_riding_hood.mp3"></audio>
            <audio id="pinocchioAudio" src="sounds/musical_tales/pinocchio.mp3"></audio>
            <audio id="threeBearsAudio" src="sounds/musical_tales/three_bears.mp3"></audio>
            <audio id="snowWhiteAudio" src="sounds/musical_tales/snow_white.mp3"></audio>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playRandomMusicalTale()">🔊</div>

              <div class="option-circle" style="--angle: 45deg; --dist: 220px;"
                onclick="checkMusicalTale('redridinghood')">
                <div style="font-size: 50px;">🧒🏻</div>
                <p style="margin:0; font-size:16px;">Қызыл телпек</p>
              </div>
              <div class="option-circle" style="--angle: 135deg; --dist: 220px;"
                onclick="checkMusicalTale('pinocchio')">
                <div style="font-size: 50px;">🤥</div>
                <p style="margin:0; font-size:16px;">Буратино</p>
              </div>
              <div class="option-circle" style="--angle: 225deg; --dist: 220px;"
                onclick="checkMusicalTale('threebears')">
                <div style="font-size: 50px;">🐻</div>
                <p style="margin:0; font-size:16px;">Үш аю</p>
              </div>
              <div class="option-circle" style="--angle: 315deg; --dist: 220px;"
                onclick="checkMusicalTale('snowwhite')">
                <div style="font-size: 50px;">👸🏻</div>
                <p style="margin:0; font-size:16px;">Ақшақар</p>
              </div>
            </div>

            <div id="g2t6Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade2Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 2-СЫНЫП: ТАПСЫРМА 7 - ТЕХНИКАЛЫҚ ДЫБЫСТАР -->
    <div id="g2Task7" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>🔫 Техникалық дыбыстар</h2>
            <p class="instruction">Техникамен байланысты шуылды тыңдап, не екенін табыңыз!</p>

            <audio id="rifleAudio" src="sounds/technical_noises/rifle.mp3"></audio>
            <audio id="machineGunAudio" src="sounds/technical_noises/machine_gun.mp3"></audio>
            <audio id="cannonAudio" src="sounds/technical_noises/cannon.mp3"></audio>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playRandomTechnicalNoise()">🔊</div>

              <div class="option-circle" style="--angle: 270deg; --dist: 220px;" onclick="checkTechnicalNoise('rifle')">
                <div style="font-size: 50px;">🔫</div>
                <p style="margin:0; font-size:16px;">Мылтық</p>
              </div>
              <div class="option-circle" style="--angle: 30deg; --dist: 220px;"
                onclick="checkTechnicalNoise('machinegun')">
                <div style="font-size: 50px;">💥</div>
                <p style="margin:0; font-size:16px;">Пулемет</p>
              </div>
              <div class="option-circle" style="--angle: 150deg; --dist: 220px;"
                onclick="checkTechnicalNoise('cannon')">
                <div style="font-size: 50px;">💣</div>
                <p style="margin:0; font-size:16px;">Зеңбірек</p>
              </div>
            </div>

            <div id="g2t7Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade2Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 3-СЫНЫП ТАПСЫРМАЛАРЫ -->
    <div id="grade3Menu" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <!-- Left: Alippe -->
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <!-- Right: Radial Menu -->
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center;">
          <div class="radial-menu-container active" style="width: 600px; height: 600px;">
            <div class="radial-center-btn" onclick="toggleRadialGradeMenu(this)"
              style="cursor: pointer; width:160px; height:160px; font-size:28px; background: linear-gradient(135deg, #FDB813 0%, #F5A623 100%);">
              3-сынып</div>

            <div class="radial-item" style="--angle: 0deg; --dist: 220px;" onclick="showScreen('g3Task1')">
              <div>🎼</div>
              <p>Ырғақ</p>
            </div>
            <div class="radial-item" style="--angle: 72deg; --dist: 220px;" onclick="showScreen('g3Task2')">
              <div>😊</div>
              <p>Интонация</p>
            </div>
            <div class="radial-item" style="--angle: 144deg; --dist: 220px;" onclick="showScreen('g3Task3')">
              <div>📝</div>
              <p>Екпін</p>
            </div>
            <div class="radial-item" style="--angle: 216deg; --dist: 220px;" onclick="showScreen('g3Task5')">
              <div>🗣️</div>
              <p>Сөздер</p>
            </div>
            <div class="radial-item" style="--angle: 288deg; --dist: 220px;" onclick="showScreen('g3Task6')">
              <div>🎤</div>
              <p>Әндер</p>
            </div>
          </div>
          <!-- Back Button -->
          <button class="btn btn-secondary" onclick="playClick(); showScreen('levelsScreen')"
            style="position: absolute; bottom: 20px; left: 20px; z-index: 100;">⬅️ Артқа</button>
        </div>
      </div>
    </div>

    <!-- 3-СЫНЫП: ТАПСЫРМА 1 - МУЗЫКАЛЫҚ ЫРҒАҚ -->
    <!-- 3-СЫНЫП: ТАПСЫРМА 1 - МУЗЫКАЛЫҚ ЫРҒАҚ -->
    <div id="g3Task1" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>🎼 Музыкалық ырғақ</h2>
            <p class="instruction">Музыканың қарқынын анықтаңыз: жылдам әлде баяу?</p>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playSound('music')">🔊</div>

              <div class="option-circle" style="--angle: 270deg; --dist: 220px;" onclick="checkMusicTempo('fast')">
                <div style="font-size: 50px;">🚀</div>
                <p style="margin:0; font-size:16px;">Жылдам</p>
              </div>
              <div class="option-circle" style="--angle: 30deg; --dist: 220px;" onclick="checkMusicTempo('medium')">
                <div style="font-size: 50px;">🚶</div>
                <p style="margin:0; font-size:16px;">Орташа</p>
              </div>
              <div class="option-circle" style="--angle: 150deg; --dist: 220px;" onclick="checkMusicTempo('slow')">
                <div style="font-size: 50px;">🐢</div>
                <p style="margin:0; font-size:16px;">Баяу</p>
              </div>
            </div>

            <div id="g3t1Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade3Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 3-СЫНЫП: ТАПСЫРМА 2 - ИНТОНАЦИЯ -->
    <div id="g3Task2" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>😊 Интонация</h2>
            <p class="instruction">Сөйлемнің интонациясын анықтаңыз!</p>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playSound('intonation')">🔊</div>

              <div class="option-circle" style="--angle: 270deg; --dist: 220px;" onclick="checkIntonation('question')">
                <div style="font-size: 50px;">❓</div>
                <p style="margin:0; font-size:16px;">Сұрақ</p>
              </div>
              <div class="option-circle" style="--angle: 30deg; --dist: 220px;" onclick="checkIntonation('statement')">
                <div style="font-size: 50px;">📢</div>
                <p style="margin:0; font-size:16px;">Хабарлау</p>
              </div>
              <div class="option-circle" style="--angle: 150deg; --dist: 220px;"
                onclick="checkIntonation('exclamation')">
                <div style="font-size: 50px;">❗</div>
                <p style="margin:0; font-size:16px;">Леп</p>
              </div>
            </div>

            <div id="g3t2Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade3Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 3-СЫНЫП: ТАПСЫРМА 3 - ЕКПІН -->
    <div id="g3Task3" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>📝 Екпін</h2>
            <p class="instruction">Сөзді тыңдап, қай буынға екпін түсетінін табыңыз!</p>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playSound('stress')">🔊</div>

              <div class="option-circle" style="--angle: 270deg; --dist: 220px;" onclick="checkStress(1)">
                <div style="font-size: 50px;">1</div>
                <p style="margin:0; font-size:16px;">1-ші буын</p>
              </div>
              <div class="option-circle" style="--angle: 30deg; --dist: 220px;" onclick="checkStress(2)">
                <div style="font-size: 50px;">2</div>
                <p style="margin:0; font-size:16px;">2-ші буын</p>
              </div>
              <div class="option-circle" style="--angle: 150deg; --dist: 220px;" onclick="checkStress(3)">
                <div style="font-size: 50px;">3</div>
                <p style="margin:0; font-size:16px;">3-ші буын</p>
              </div>
            </div>

            <div id="g3t3Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade3Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>
    <!-- 3-СЫНЫП: ТАПСЫРМА 4 - ТҰРМЫСТЫҚ ТЕХНИКА -->
    <div id="g3Task4" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>🔌 Тұрмыстық техника</h2>
            <p class="instruction">Дыбысты тыңдап, қай құрал екенін табыңыз!</p>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playSound('appliance')">🔊</div>

              <div class="option-circle" style="--angle: 45deg; --dist: 220px;" onclick="checkAppliance('fridge')">
                <div style="font-size: 50px;">❄️</div>
                <p style="margin:0; font-size:16px;">Тоңазытқыш</p>
              </div>
              <div class="option-circle" style="--angle: 135deg; --dist: 220px;" onclick="checkAppliance('vacuum')">
                <div style="font-size: 50px;">🧹</div>
                <p style="margin:0; font-size:16px;">Шаңсорғыш</p>
              </div>
              <div class="option-circle" style="--angle: 225deg; --dist: 220px;"
                onclick="checkAppliance('washing_machine')">
                <div style="font-size: 50px;">🧺</div>
                <p style="margin:0; font-size:16px;">Киім жуғыш</p>
              </div>
              <div class="option-circle" style="--angle: 315deg; --dist: 220px;" onclick="checkAppliance('hair_dryer')">
                <div style="font-size: 50px;">💨</div>
                <p style="margin:0; font-size:16px;">Фен</p>
              </div>
            </div>

            <div id="g3t4Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade3Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 3-СЫНЫП: ТАПСЫРМА 5 - СӨЗДЕРДІ ТАНУ -->
    <div id="g3Task5" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>🗣️ Сөздерді тану</h2>
            <p class="instruction">Естіген сөздің түрін анықтаңыз!</p>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playSound('wordType')">🔊</div>

              <div class="option-circle" style="--angle: 270deg; --dist: 220px;" onclick="checkWordType('familiar')">
                <div style="font-size: 50px;">👋</div>
                <p style="margin:0; font-size:16px;">Таныс сөз</p>
              </div>
              <div class="option-circle" style="--angle: 30deg; --dist: 220px;" onclick="checkWordType('question')">
                <div style="font-size: 50px;">❓</div>
                <p style="margin:0; font-size:16px;">Сұрақ</p>
              </div>
              <div class="option-circle" style="--angle: 150deg; --dist: 220px;" onclick="checkWordType('task')">
                <div style="font-size: 50px;">📝</div>
                <p style="margin:0; font-size:16px;">Тапсырма</p>
              </div>
            </div>

            <div id="g3t5Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade3Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 3-СЫНЫП: ТАПСЫРМА 6 - ҰЛТТЫҚ ӘНДЕР -->
    <div id="g3Task6" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>🎤 Ұлттық әндер</h2>
            <p class="instruction">Әннің қай ұлтқа жататынын табыңыз!</p>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playSound('nationalSong')">🔊</div>

              <div class="option-circle" style="--angle: 270deg; --dist: 220px;" onclick="checkNationalSong('kazakh')">
                <div style="font-size: 50px;">🇰🇿</div>
                <p style="margin:0; font-size:16px;">Қазақ</p>
              </div>
              <div class="option-circle" style="--angle: 30deg; --dist: 220px;" onclick="checkNationalSong('russian')">
                <div style="font-size: 50px;">🇷🇺</div>
                <p style="margin:0; font-size:16px;">Орыс</p>
              </div>
              <div class="option-circle" style="--angle: 150deg; --dist: 220px;" onclick="checkNationalSong('english')">
                <div style="font-size: 50px;">🇬🇧</div>
                <p style="margin:0; font-size:16px;">Ағылшын</p>
              </div>
            </div>

            <div id="g3t6Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade3Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 4-СЫНЫП ТАПСЫРМАЛАРЫ -->
    <div id="grade4Menu" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <!-- Left: Alippe -->
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <!-- Right: Radial Menu -->
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center;">
          <div class="radial-menu-container active" style="width: 600px; height: 600px;">
            <div class="radial-center-btn" onclick="toggleRadialGradeMenu(this)"
              style="cursor: pointer; width:160px; height:160px; font-size:28px; background: linear-gradient(135deg, #FDB813 0%, #F5A623 100%);">
              4-сынып</div>

            <div class="radial-item" style="--angle: 0deg; --dist: 220px;" onclick="showScreen('g4Task1')">
              <div>📖</div>
              <p>Әңгіме</p>
            </div>
            <div class="radial-item" style="--angle: 72deg; --dist: 220px;" onclick="showScreen('g4Task2')">
              <div>💬</div>
              <p>Диалог</p>
            </div>
            <div class="radial-item" style="--angle: 144deg; --dist: 220px;" onclick="showScreen('g4Task3')">
              <div>📚</div>
              <p>Мәтін</p>
            </div>
            <div class="radial-item" style="--angle: 216deg; --dist: 220px;" onclick="showScreen('g4Task5')">
              <div>🥁</div>
              <p>Ырғақ</p>
            </div>
            <div class="radial-item" style="--angle: 288deg; --dist: 220px;" onclick="showScreen('g4Task6')">
              <div>🧭</div>
              <p>Бағыт</p>
            </div>
          </div>
          <!-- Back Button -->
          <button class="btn btn-secondary" onclick="playClick(); showScreen('levelsScreen')"
            style="position: absolute; bottom: 20px; left: 20px; z-index: 100;">⬅️ Артқа</button>
        </div>
      </div>
    </div>

    <!-- 4-СЫНЫП: ТАПСЫРМА 1 - ӘҢГІМЕЛЕРДІ ТЫҢДАУ -->
    <div id="g4Task1" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>📖 Әңгімелерді тыңдау</h2>
            <p class="instruction">Әңгімені тыңдап, сұраққа жауап беріңіз!</p>

            <div
              style="background: rgba(255,255,255,0.9); padding: 15px; border-radius: 15px; margin-bottom: 20px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
              <h3 style="color: #667eea; margin-bottom: 10px;">Сұрақ:</h3>
              <p id="storyQuestion" style="font-size: 18px; color: #333; margin: 0;">Әңгімені тыңдаңыз...</p>
            </div>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playSound('story')">🔊</div>

              <div class="option-circle" style="--angle: 270deg; --dist: 220px;" onclick="checkStoryAnswer(1)">
                <div style="font-size: 40px;">1</div>
                <p style="margin:0; font-size:16px;">Жауап 1</p>
              </div>
              <div class="option-circle" style="--angle: 30deg; --dist: 220px;" onclick="checkStoryAnswer(2)">
                <div style="font-size: 40px;">2</div>
                <p style="margin:0; font-size:16px;">Жауап 2</p>
              </div>
              <div class="option-circle" style="--angle: 150deg; --dist: 220px;" onclick="checkStoryAnswer(3)">
                <div style="font-size: 40px;">3</div>
                <p style="margin:0; font-size:16px;">Жауап 3</p>
              </div>
            </div>

            <div id="g4t1Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade4Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 4-СЫНЫП: ТАПСЫРМА 2 - ДИАЛОГ -->
    <div id="g4Task2" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>💬 Диалог</h2>
            <p class="instruction">Диалогты тыңдап, кімнің сөйлеп тұрғанын анықтаңыз!</p>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playSound('dialog')">🔊</div>

              <div class="option-circle" style="--angle: 270deg; --dist: 220px;" onclick="checkDialog('child')">
                <div style="font-size: 50px;">👧</div>
                <p style="margin:0; font-size:16px;">Бала</p>
              </div>
              <div class="option-circle" style="--angle: 30deg; --dist: 220px;" onclick="checkDialog('adult')">
                <div style="font-size: 50px;">👨</div>
                <p style="margin:0; font-size:16px;">Ересек</p>
              </div>
              <div class="option-circle" style="--angle: 150deg; --dist: 220px;" onclick="checkDialog('both')">
                <div style="font-size: 50px;">👨‍👧</div>
                <p style="margin:0; font-size:16px;">Екеуі де</p>
              </div>
            </div>

            <div id="g4t2Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade4Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 4-СЫНЫП: ТАПСЫРМА 3 - МӘТІН ОҚУ -->
    <div id="g4Task3" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style=" max-width: 100%;">
            <h2>📚 Мәтін оқу</h2>
            <p class="instruction">Мәтінді дауыстап оқып, жазып алыңыз!</p>

            <div
              style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 30px; border-radius: 20px; margin: 30px 0; color: white;">
              <p id="readingText" style="font-size: 22px; line-height: 1.8; text-align: center;">
                Мен мектепке барамын. <br>
                Мектепте достарыммен ойнаймын. <br>
                Біз бірге оқимыз және жазамыз.
              </p>
            </div>

            <div style="display: flex; gap: 20px; justify-content: center;">
              <button class="btn btn-success" onclick="startReading()" id="readBtn">🎙️ Оқуды бастау</button>
              <button class="btn btn-secondary" onclick="stopReading()" id="stopReadBtn" style="display: none;">⏹️
                Тоқтату</button>
            </div>

            <div class="progress-container" style="margin-top: 20px;">
              <div class="progress-bar" id="readingProgress">0%</div>
            </div>

            <div id="g4t3Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade4Menu')"
              style="margin-top: 20px;">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 4-СЫНЫП: ТАПСЫРМА 4 - ТЕХНИКА ДЫБЫСТАРЫ -->
    <div id="g4Task4" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>🚜 Техника дыбыстары</h2>
            <p class="instruction">Техниканың дыбысын тыңдап, оны табыңыз!</p>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playSound('tech')">🔊</div>

              <div class="option-circle" style="--angle: 270deg; --dist: 220px;" onclick="checkTech('tractor')">
                <div style="font-size: 50px;">🚜</div>
                <p style="margin:0; font-size:16px;">Трактор</p>
              </div>
              <div class="option-circle" style="--angle: 30deg; --dist: 220px;" onclick="checkTech('saw')">
                <div style="font-size: 50px;">🪚</div>
                <p style="margin:0; font-size:16px;">Ара</p>
              </div>
              <div class="option-circle" style="--angle: 150deg; --dist: 220px;" onclick="checkTech('sewing')">
                <div style="font-size: 50px;">🧵</div>
                <p style="margin:0; font-size:16px;">Тігін</p>
              </div>
            </div>

            <div id="g4t4Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade4Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 4-СЫНЫП: ТАПСЫРМА 5 - КҮРДЕЛІ ЫРҒАҚ -->
    <div id="g4Task5" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>🥁 Күрделі ырғақ</h2>
            <p class="instruction">Ырғақты тыңдап, қанша соққы екенін санаңыз!</p>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playSound('complexRhythm')">🔊</div>

              <div class="option-circle" style="--angle: 270deg; --dist: 220px;" onclick="checkComplexRhythm(5)">
                <div style="font-size: 50px;">5</div>
              </div>
              <div class="option-circle" style="--angle: 30deg; --dist: 220px;" onclick="checkComplexRhythm(6)">
                <div style="font-size: 50px;">6</div>
              </div>
              <div class="option-circle" style="--angle: 150deg; --dist: 220px;" onclick="checkComplexRhythm(7)">
                <div style="font-size: 50px;">7</div>
              </div>
            </div>

            <div id="g4t5Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade4Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 4-СЫНЫП: ТАПСЫРМА 6 - ДЫБЫС БАҒЫТЫ -->
    <div id="g4Task6" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>🧭 Дыбыс бағыты</h2>
            <p class="instruction">Дыбыс қай жақтан шығып жатыр?</p>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playSound('direction')">🔊</div>

              <div class="option-circle" style="--angle: 45deg; --dist: 220px;" onclick="checkDirection('left')">
                <div style="font-size: 50px;">⬅️</div>
                <p style="margin:0; font-size:16px;">Сол</p>
              </div>
              <div class="option-circle" style="--angle: 135deg; --dist: 220px;" onclick="checkDirection('right')">
                <div style="font-size: 50px;">➡️</div>
                <p style="margin:0; font-size:16px;">Оң</p>
              </div>
              <div class="option-circle" style="--angle: 225deg; --dist: 220px;" onclick="checkDirection('front')">
                <div style="font-size: 50px;">⬆️</div>
                <p style="margin:0; font-size:16px;">Алдынан</p>
              </div>
              <div class="option-circle" style="--angle: 315deg; --dist: 220px;" onclick="checkDirection('back')">
                <div style="font-size: 50px;">⬇️</div>
                <p style="margin:0; font-size:16px;">Артынан</p>
              </div>
            </div>

            <div id="g4t6Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade4Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <!-- 4-СЫНЫП: ТАПСЫРМА 7 - ТЕХНИКАЛЫҚ ШУЫЛ -->
    <div id="g4Task7" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>🧐 Адам эмоциясы</h2>
            <p class="instruction">Дыбысты тыңдап, эмоцияны немесе әрекетті анықтаңыз!</p>

            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playRandomHumanSoundG4()">🔊</div>

              <div class="option-circle" style="--angle: 45deg; --dist: 220px;" onclick="checkHumanSoundG4('laugh')">
                <div style="font-size: 50px;">😂</div>
                <p style="margin:0; font-size:16px;">Күлкі</p>
              </div>
              <div class="option-circle" style="--angle: 135deg; --dist: 220px;" onclick="checkHumanSoundG4('cry')">
                <div style="font-size: 50px;">😭</div>
                <p style="margin:0; font-size:16px;">Жылау</p>
              </div>
              <div class="option-circle" style="--angle: 225deg; --dist: 220px;" onclick="checkHumanSoundG4('cough')">
                <div style="font-size: 50px;">😷</div>
                <p style="margin:0; font-size:16px;">Жөтелу</p>
              </div>
              <div class="option-circle" style="--angle: 315deg; --dist: 220px;" onclick="checkHumanSoundG4('sneeze')">
                <div style="font-size: 50px;">🤧</div>
                <p style="margin:0; font-size:16px;">Түшкіру</p>
              </div>
            </div>

            <div id="g4t7Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade4Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <!-- G0 ADDITIONS (Refactored to Radial) -->
    <div id="g0TaskWild" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>🦁 Жабайы жануарлар</h2>
            <p class="instruction">Жануарды дыбысынан тап!</p>
            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playRandomWildAnimalG0()">🔊</div>
              <div class="option-circle" style="--angle: 45deg; --dist: 220px;" onclick="checkWildAnimalG0('lion')">
                <div style="font-size: 50px;">🦁</div>
                <p style="margin:0; font-size:16px;">Арыстан</p>
              </div>
              <div class="option-circle" style="--angle: 135deg; --dist: 220px;" onclick="checkWildAnimalG0('wolf')">
                <div style="font-size: 50px;">🐺</div>
                <p style="margin:0; font-size:16px;">Қасқыр</p>
              </div>
              <div class="option-circle" style="--angle: 225deg; --dist: 220px;" onclick="checkWildAnimalG0('bear')">
                <div style="font-size: 50px;">🐻</div>
                <p style="margin:0; font-size:16px;">Аю</p>
              </div>
              <div class="option-circle" style="--angle: 315deg; --dist: 220px;"
                onclick="checkWildAnimalG0('elephant')">
                <div style="font-size: 50px;">🐘</div>
                <p style="margin:0; font-size:16px;">Піл</p>
              </div>
            </div>
            <div id="g0tWildFeedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade0Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <div id="g0TaskTech2" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>🔫 Техникалық дыбыстар</h2>
            <p class="instruction">Дыбысты тап!</p>
            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playRandomTechnicalNoiseG0()">🔊</div>
              <div class="option-circle" style="--angle: 270deg; --dist: 220px;"
                onclick="checkTechnicalNoiseG0('rifle')">
                <div style="font-size: 50px;">🔫</div>
                <p style="margin:0; font-size:16px;">Мылтық</p>
              </div>
              <div class="option-circle" style="--angle: 30deg; --dist: 220px;"
                onclick="checkTechnicalNoiseG0('machinegun')">
                <div style="font-size: 50px;">💥</div>
                <p style="margin:0; font-size:16px;">Пулемет</p>
              </div>
              <div class="option-circle" style="--angle: 150deg; --dist: 220px;"
                onclick="checkTechnicalNoiseG0('cannon')">
                <div style="font-size: 50px;">💣</div>
                <p style="margin:0; font-size:16px;">Зеңбірек</p>
              </div>
            </div>
            <div id="g0tTech2Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade0Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <div id="g0TaskAppliance" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>🔌 Тұрмыстық техника</h2>
            <p class="instruction">Құралды тап!</p>
            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playRandomApplianceG0()">🔊</div>
              <div class="option-circle" style="--angle: 45deg; --dist: 220px;" onclick="checkApplianceG0('fridge')">
                <div style="font-size: 50px;">❄️</div>
                <p style="margin:0; font-size:16px;">Тоңазытқыш</p>
              </div>
              <div class="option-circle" style="--angle: 135deg; --dist: 220px;" onclick="checkApplianceG0('vacuum')">
                <div style="font-size: 50px;">🧹</div>
                <p style="margin:0; font-size:16px;">Шаңсорғыш</p>
              </div>
              <div class="option-circle" style="--angle: 225deg; --dist: 220px;"
                onclick="checkApplianceG0('washing_machine')">
                <div style="font-size: 50px;">🧺</div>
                <p style="margin:0; font-size:16px;">Киім жуғыш</p>
              </div>
              <div class="option-circle" style="--angle: 315deg; --dist: 220px;"
                onclick="checkApplianceG0('hair_dryer')">
                <div style="font-size: 50px;">💨</div>
                <p style="margin:0; font-size:16px;">Фен</p>
              </div>
            </div>
            <div id="g0tApplianceFeedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade0Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <div id="g0TaskTech4" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>🚜 Техника дыбыстары</h2>
            <p class="instruction">Техниканы тап!</p>
            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playRandomTechG0()">🔊</div>
              <div class="option-circle" style="--angle: 270deg; --dist: 220px;" onclick="checkTechG0('tractor')">
                <div style="font-size: 50px;">🚜</div>
                <p style="margin:0; font-size:16px;">Трактор</p>
              </div>
              <div class="option-circle" style="--angle: 30deg; --dist: 220px;" onclick="checkTechG0('saw')">
                <div style="font-size: 50px;">🪚</div>
                <p style="margin:0; font-size:16px;">Ара</p>
              </div>
              <div class="option-circle" style="--angle: 150deg; --dist: 220px;" onclick="checkTechG0('sewing')">
                <div style="font-size: 50px;">🧵</div>
                <p style="margin:0; font-size:16px;">Тігін машинасы</p>
              </div>
            </div>
            <div id="g0tTech4Feedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade0Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <div id="g0TaskEmotion" class="screen">
      <div class="task-flex-container" style="display: flex; height: 100vh; width: 100%; overflow: hidden;">
        <div class="alippe-panel">
          <div class="alippe-header">Әліппе</div>
          <div class="alippe-grid"></div>
        </div>
        <div class="task-content-wrapper"
          style="flex: 1; position: relative; display: flex; justify-content: center; align-items: center; flex-direction: column;">
          <div class="task-box" style="background: none; box-shadow: none; max-width: 100%;">
            <h2>😂 Адам эмоциясы</h2>
            <p class="instruction">Эмоцияны немесе әрекетті тап!</p>
            <div class="letter-circle-container active" style="width: 500px; height: 500px; position: relative;">
              <div class="center-circle" onclick="playRandomHumanSoundG0()">🔊</div>
              <div class="option-circle" style="--angle: 45deg; --dist: 220px;" onclick="checkHumanSoundG0('laugh')">
                <div style="font-size: 50px;">😂</div>
                <p style="margin:0; font-size:16px;">Күлкі</p>
              </div>
              <div class="option-circle" style="--angle: 135deg; --dist: 220px;" onclick="checkHumanSoundG0('cry')">
                <div style="font-size: 50px;">😢</div>
                <p style="margin:0; font-size:16px;">Жылау</p>
              </div>
              <div class="option-circle" style="--angle: 225deg; --dist: 220px;" onclick="checkHumanSoundG0('cough')">
                <div style="font-size: 50px;">😷</div>
                <p style="margin:0; font-size:16px;">Жөтелу</p>
              </div>
              <div class="option-circle" style="--angle: 315deg; --dist: 220px;" onclick="checkHumanSoundG0('sneeze')">
                <div style="font-size: 50px;">🤧</div>
                <p style="margin:0; font-size:16px;">Түшкіру</p>
              </div>
            </div>
            <div id="g0tEmotionFeedback" class="feedback"></div>
            <button class="btn btn-secondary" onclick="playClick(); showScreen('grade0Menu')">⬅️ Артқа</button>
          </div>
        </div>
      </div>
    </div>

    <div id="rewardModal" class="modal">
      <div class="modal-content">
        <h2>Жарайсың! 🎉</h2>
        <div class="emoji">⭐</div>
        <p>Сен тапсырманы сәтті орындадың!</p>
        <p style="font-size: 24px; color: #f6d365; margin: 10px 0;">+10 🪙</p>
        <button class="btn btn-success" onclick="closeModal()">Жалғастыру</button>
      </div>
    </div>

  </div>

  <script src="script.js"></script>
  <script src="scroll-header.js"></script>
  <script src="grade234-functions.js"></script>
</body>

</html>